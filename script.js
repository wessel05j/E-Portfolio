const sections = [
  {
    title: "Experience",
    description: `
    <h3>Experience</h3>
    <h4>Profile</h4>
    <p>I am a 1st year Dataengineer at NTNU GjÃ¸vik and have finished High School in natural science. 
    I have gained work experience from agriculture, youth 
    sports coaching, retail, and municipal outdoor maintenance. I am motivated, 
    reliable, and eager to learn. I am seeking part-time work in IT to further develop 
    my skills and contribute to a positive and productive work environment.</p> 

    <h4>Work Experience</h4>
    <ul>
      <li><strong>Rotnes Bruk AS</strong> â€” Seasonal Worker (2022â€“2023)
        <p>Performed a variety of outdoor physical tasks including firewood processing, 
        painting, raking, and surface scraping.</p>
      </li>
      <li><strong>Joker Gan</strong> â€” Shop Assistant (2023)
        <p>Responsibilities included stocking shelves, maintaining store cleanliness, 
        assisting with postal services, operating the cash register, and providing 
        customer service.</p>
      </li>
      <li><strong>LillestrÃ¸m Municipality</strong> â€” Outdoor Maintenance (Summer positions 2024 & 2025)
        <p>General maintenance work such as lawn mowing, edge trimming, and care of trees 
        and hedges.</p>
      </li>
      <li><strong>All-Sports</strong> â€” Youth Sports Coach
        <p>Coached children aged 4â€“7, developing skills in communication, adaptability, 
        and creating a safe and encouraging environment for learning.</p>
      </li>
    </ul>

    <h4>Education</h4>
    <p><strong>Kristelig Gymnasium | High School(KG VGS)</strong> â€” Natural Sciences, 2022â€“2024<br>
    Subjects: Chemistry 1, Information Technology 1â€“2, Mathematics R1â€“R2, Exercise Science</p>

    <h4>Supporting Documents</h4>
    <ul>
      <li><a href="other/High_School_grades.jpg" target="_blank">Upper Secondary School Transcript</a></li>
      <li><a href="other/Joker Gan referal.pdf" target="_blank">Reference â€“ Joker Gan</a></li>
      <li><a href="other/LillestrÃ¸mKommune work 2024and2025.pdf" target="_blank">Work Confirmation â€“ LillestrÃ¸m Municipality (2024)</a></li>
      <li><a href="other/middleschool.pdf" target="_blank">Lower Secondary School Certificate</a></li>
      <li><a href="other/middleschoolawardforbeingthekindest.pdf" target="_blank">Kindness Award â€“ Lower Secondary School</a></li>
      <li><a href="other/work LillestrÃ¸m City referal.pdf" target="_blank">Reference â€“ LillestrÃ¸m Municipality</a></li>
      <li><a href="other/studentIDNTNUGjÃ¸vik.jpg" target="_blank">Student ID â€“ NTNU GjÃ¸vik</a></li>
    </ul>
  `
  },
  {
    title: "Skills",
    img: "project2.jpg",
    description: `
    <h3>Skills</h3>

    <h4>Technical Skills</h4>
    <ul>
      <li>Foundational knowledge in cybersecurity, with practical training via TryHackMe</li>
      <li>Knowledge in: Python, Java, Javascript, HTML and CSS</li>
      <li>Scripting and small automation projects</li>
      <li>Introductory experience with game development (Pygame)</li>
    </ul>

    <h4>Personal Skills</h4>
    <ul>
      <li>Physically fit and capable of performing demanding tasks</li>
      <li>Strong work ethic, discipline, and reliability</li>
      <li>Effective communicator and honest</li>
      <li>Analytical thinking and creative problem-solving</li>
      <li>Entrepenual mindset</li>
      <li>Driverâ€™s License (Category B) and Boat License</li>
    </ul>

    <h4>Interests</h4>
    <ul>
      <li>Love investing and create small buisness projects</li>
      <li>High tech / futuristic things / problem solving technology</li>
      <li>Regular strength training at the gym, coding as a hobby, and spending time with friends and family</li>
    </ul>
  `
  },
  {
    title: "Main Project",
    description: `
    <h3>Block Catcher</h3>
    <p>A game I coded during High School as my final grade project.</p>

    <h4>Description</h4>
    <hr>
    <p>
      The game starts with a main menu that introduces the player to the rules and objective.  
      You control a small block at the bottom of the screen, and your goal is to catch falling blocks before they hit the ground.  
      The game gets progressively faster, challenging your reflexes and reaction time.  
    </p>

    <p>
      While it may look simple, this project was where I first learned to combine coding, logic, and creativity into a fully working game.  
      I showcase it as my main project because it represents my first big milestone in programming and problem-solving.
    </p>

    <p>
      <strong>Key Features:</strong>
      <ul>
        <li>Main menu with instructions</li>
        <li>Player-controlled block movement</li>
        <li>Increasing difficulty as blocks fall faster</li>
        <li>Score tracking</li>
        <li>Simple yet fun gameplay</li>
      </ul>
    </p>

    <p>
      <a href="other/Block_Catcher.zip" target="_blank">ðŸ“¥ Download Block Catcher (ZIP)</a>
    </p>
    `
  },
  {
    title: "Other Projects",
    description: `
    <h3>Projects</h3>
    <h4>EV3 Mindstorm Project (Ongoing)</h4>
    <p>
      Group 2 consisting of me and 4 others programmed a robot by assembling it with 2 motorized wheels and 1 wheel acting as balance.
      Then having 2 color sensors to detect color.
      We had 4 tasks, the first three consisting of small projects like making the robot drive, making it act like an lawn mower and so on.
      For the last project we are making a robot as highly efficent as possible following a track line and competing with other robots from other groups.
    </p>
    <img src="images/EV3.jpg" alt="Picture of the robot" id="robot-img"/>
    <img src="images/TrackEV3.png" alt="Picture of the track" id="track-img"/>
    <p>
      Throughout this project, I learned a lot about both programming and teamwork.  
      My main responsibility was working on the code that handled the robotâ€™s movement and line detection using the color sensors.  
      This involved tuning sensor thresholds, adjusting motor speeds, and testing different logic patterns to make the robot follow the track as smoothly as possible.  
    </p>

    <p>
      One of the biggest challenges was balancing accuracy and speed â€” if the robot drove too fast, it often lost the track, but if it went too slow, it became inefficient.  
      Through many tests, we found an optimal balance by using conditional checks and feedback loops.  
    </p>

    <p>
      Working in a group also helped me understand how important collaboration and communication are in technical projects.  
      We divided our tasks clearly, shared ideas, and combined our strengths to solve problems more efficiently.  
      I learned how to document progress, analyze results, and troubleshoot hardware and software issues together as a team.  
    </p>

    <p>
      Overall, this project gave me hands-on experience with robotics, programming logic, and problem-solving in a real-world context.  
      The lessons I learned here â€” especially in debugging, algorithm optimization, and teamwork â€” are skills I can directly apply in future IT and cybersecurity projects.
    </p>

    <p>
      Repository: <a href="https://github.com/wessel05j/Racing-project-Ev3-lego-robot-.git" target="_blank">GitHub - Racing Project EV3</a>
    </p>

    <h4>This e-Portfolio (Ongoing)</h4>
    <p>
      This very portfolio is one of my most important projects because it is designed, coded, and maintained by me.  
      It is built with <strong>HTML, CSS, and JavaScript</strong>, and I keep improving it to serve as both a professional portfolio and a sandbox for experimenting with new ideas.  
    </p>
    <p>
      Key aspects include:
      <ul>
        <li><strong>Responsive Design:</strong> Optimized for desktop, tablet, and mobile devices.</li>
        <li><strong>Clean & Extendable Structure:</strong> Built in a modular way, making it easy to add new projects or features.</li>
        <li><strong>Styling & Theming:</strong> Minimal yet modern look, focusing on readability and user experience.</li>
        <li><strong>Ongoing Development:</strong> Currently working on adding interactive elements, improved navigation, and possibly API integrations.</li>
      </ul>
    </p>
    <p>
      Repository: <a href="https://github.com/wessel05j/E-Portfolio.git" target="_blank">GitHub - Racing Project EV3</a>
    </p>

    <h4>Motivational Diary (Java Project â€“ Ongoing)</h4>
    <p>
      A personal project where I am developing a <strong>Java-based diary application</strong>.  
      The goal is to create a simple but effective tool where users (including myself) can record daily thoughts, track motivation levels, and set personal goals.  
    </p>
    <p>
      Planned features:
      <ul>
        <li>User-friendly interface for writing daily entries</li>
        <li>Search and filter by dates, moods, or tags</li>
        <li>Export functionality (text or JSON) for backups</li>
        <li>Future extension: statistics/graphs of motivation over time</li>
      </ul>
    </p>
    <hr>
    `
  }
];

function showSection(idx) {
  const modal = document.getElementById('section-modal');
  const body = document.getElementById('section-modal-body');
  // wrap content so padding stays inside rounded container
  body.innerHTML = `<div class="modal-inner">${sections[idx].description}</div>`;
  // if this is the "Other Projects" section (assumed index 3), add a nav button
  const modalContent = modal.querySelector('.modal-content');
  // remove any existing nav button/panel first
  const existingNav = modalContent.querySelector('.nav-btn');
  const existingPanel = modalContent.querySelector('.projects-nav');
  if (existingNav) existingNav.remove();
  if (existingPanel) existingPanel.remove();

  if (idx === 3) {
    // create nav button and panel
    const navBtn = document.createElement('button');
    navBtn.className = 'nav-btn';
    navBtn.setAttribute('aria-label', 'Open projects navigation');
    navBtn.innerHTML = '&#9776;'; // simple menu icon
    // insert before the close button so it appears to the left
    const closeEl = modalContent.querySelector('.close');
    if (closeEl && closeEl.parentNode) closeEl.parentNode.insertBefore(navBtn, closeEl);

    const panel = document.createElement('div');
    panel.className = 'projects-nav';
    panel.setAttribute('role', 'navigation');
    panel.style.display = 'none';
    modalContent.appendChild(panel);

    // build menu from headings inside modal-inner
    const inner = body.querySelector('.modal-inner');
    const headings = inner.querySelectorAll('h4');
    if (headings.length === 0) {
      const empty = document.createElement('div');
      empty.className = 'projects-nav-empty';
      empty.textContent = 'No project sections found.';
      panel.appendChild(empty);
    } else {
      headings.forEach((h, i) => {
        // ensure each heading has an id to target
        if (!h.id) h.id = `project-heading-${i}`;
        const btn = document.createElement('button');
        btn.className = 'projects-nav-item';
        btn.textContent = h.textContent.trim();
        btn.addEventListener('click', () => {
          // scroll modal-inner to the heading
          const target = inner.querySelector('#' + h.id);
          if (target) {
            inner.scrollTo({ top: target.offsetTop - 8, behavior: 'smooth' });
          }
          // close panel
          panel.style.display = 'none';
        });
        panel.appendChild(btn);
      });
    }

    // wire button toggle
    navBtn.addEventListener('click', () => {
      panel.style.display = panel.style.display === 'none' ? 'block' : 'none';
    });
    // close panel if pressing Escape
    document.addEventListener('keydown', (e) => {
      if (e.key === 'Escape') panel.style.display = 'none';
    });
  }
  // hide the grid of cards so the panel fills the space
  const list = document.querySelector('.section-list');
  if (list) list.classList.add('hidden');
  modal.style.display = 'block';
  // ensure the panel scrolls to top when opened
  const content = modal.querySelector('.modal-content');
  if (content) content.scrollTop = 0;
}

function closeModal() {
  const modal = document.getElementById('section-modal');
  modal.style.display = 'none';
  const list = document.querySelector('.section-list');
  if (list) list.classList.remove('hidden');
}

// Accessibility: Close modal with ESC
document.addEventListener('keydown', function (e) {
  if (e.key === "Escape") closeModal();
});